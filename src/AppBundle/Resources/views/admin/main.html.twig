{% extends 'AppBundle:admin:admin.html.twig' %}

{% block content %}
    <h2 class="section-heading">Statistic</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="info-chart">
                <div class="pie-chart" data-percent="100">
                    <span class="percent">{{ countArticles }}</span>
                    <canvas height="180" width="180"></canvas></div>
                <span class="chart-title">ARTICLES</span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="info-chart">
                <div class="pie-chart" data-percent="100">
                    <span class="percent">{{ countComments }}</span>
                    <canvas height="180" width="180"></canvas></div>
                <span class="chart-title">COMMENTS</span>
            </div>
        </div>
        <div class="col-md-4">
            <div class="info-chart">
                <div class="pie-chart" data-percent="100">
                    <span class="percent">{{ countUsers }}</span>
                    <canvas height="180" width="180"></canvas></div>
                <span class="chart-title">USERS</span>
            </div>
        </div>
    </div>
{% endblock content %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/jquery.easypiechart.min.js') }}"></script>

    <script>
        $( document ).ready(function() {
            if($('.pie-chart').length > 0) {
                $('.pie-chart').easyPieChart({
                    size: 180,
                    barColor: '#406DA4',
                    trackColor: '#eaeaea',
                    scaleColor: false,
                    lineWidth: 2,
                    lineCap: "square",
                    animate: 2000
                });
            }
        });
    </script>

{% endblock %}